<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:pr="http://primefaces.org/ui"
    contentType="text/html">
	
	<ui:composition template="../public/template/template.xhtml">
    
		<ui:define name="body">
		
			<style>
				.controls {
			        margin-top: 10px;
			        border: 1px solid transparent;
			        border-radius: 2px 0 0 2px;
			        box-sizing: border-box;
			        -moz-box-sizing: border-box;
			        height: 32px;
			        outline: none;
			        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
			    }
			    
			    .pac-container {
			    	z-index: 999999 !important;
			    }
			    
			    .marcatexto {
					box-shadow: 0px 0 0 0 #000, 0px 0 0 0 #000;
					background: #000;
					display: inline;
					padding: 0px 0 !important;
					position: relative;
				  	color:#FFF;
				  	letter-spacing: 5px;
				}
			</style>
		
			<pr:poll
				async="true"
				global="false"
				interval="33"
				process="@this"
				listener="#{corridaTeleTaxiView.pesquisarCorridaPorFiltro()}"
				update="corridaTable" />
		
			<pr:poll
				async="true"
				global="false"
				interval="60"
				process="@this"
				listener="#{corridaTeleTaxiView.verificaMensagemChatCorrida()}" />
				
			<h:inputHidden id="nomeCidadeMapa" value="#{corridaTeleTaxiView.cidadeMapa}" />
		
			<h:inputHidden id="latitudeCorridaCorrente" value="#{corridaTeleTaxiView.corrida.latitudeCorrente}" />
			<h:inputHidden id="longitudeCorridaCorrente" value="#{corridaTeleTaxiView.corrida.longitudeCorrente}" />
			<h:inputHidden id="latitudeCorridaOrigem" value="#{corridaTeleTaxiView.corrida.origemLatitude}" />
			<h:inputHidden id="longitudeCorridaOrigem" value="#{corridaTeleTaxiView.corrida.origemLongitude}" />
			<h:inputHidden id="latitudeCorridaDestino" value="#{corridaTeleTaxiView.corrida.destinoLatitude}" />
			<h:inputHidden id="longitudeCorridaDestino" value="#{corridaTeleTaxiView.corrida.destinoLongitude}" />
			<h:inputHidden id="latitudesPercurso" value="#{corridaTeleTaxiView.corrida.latitudesPercurso}" />
			<h:inputHidden id="longitudesPercurso" value="#{corridaTeleTaxiView.corrida.longitudesPercurso}" />
			
			<h:inputHidden id="latitudeCorridaNovaOrigem" value="#{corridaTeleTaxiView.corridaNova.origemLatitude}" />
			<h:inputHidden id="longitudeCorridaNovaOrigem" value="#{corridaTeleTaxiView.corridaNova.origemLongitude}" />
			<h:inputHidden id="latitudeCorridaNovaDestino" value="#{corridaTeleTaxiView.corridaNova.destinoLatitude}" />
			<h:inputHidden id="longitudeCorridaNovaDestino" value="#{corridaTeleTaxiView.corridaNova.destinoLongitude}" />
			<h:inputHidden id="distanciaCorridaNova" value="#{corridaTeleTaxiView.corridaNova.distanciaKm}" />
			<h:inputHidden id="origemCorridaNova" value="#{corridaTeleTaxiView.corridaNova.origem}" />
			<h:inputHidden id="destinoCorridaNova" value="#{corridaTeleTaxiView.corridaNova.destino}" />
			<h:inputHidden id="minutosCorridaNova" value="#{corridaTeleTaxiView.corridaNova.previsaoCorrida}" />
			
			<h:inputHidden id="latitudeCorridaNovaOrigem2" value="#{corridaTeleTaxiView.corridaNova.origemLatitude2}" />
			<h:inputHidden id="longitudeCorridaNovaOrigem2" value="#{corridaTeleTaxiView.corridaNova.origemLongitude2}" />
			<h:inputHidden id="latitudeCorridaNovaDestino2" value="#{corridaTeleTaxiView.corridaNova.destinoLatitude2}" />
			<h:inputHidden id="longitudeCorridaNovaDestino2" value="#{corridaTeleTaxiView.corridaNova.destinoLongitude2}" />
			<h:inputHidden id="distanciaCorridaNova2" value="#{corridaTeleTaxiView.corridaNova.distanciaKm2}" />
			<h:inputHidden id="origemCorridaNova2" value="#{corridaTeleTaxiView.corridaNova.origem2}" />
			<h:inputHidden id="destinoCorridaNova2" value="#{corridaTeleTaxiView.corridaNova.destino2}" />
			<h:inputHidden id="minutosCorridaNova2" value="#{corridaTeleTaxiView.corridaNova.previsaoCorrida2}" />
			
			<h:inputHidden id="latitudeCorridaNovaOrigem3" value="#{corridaTeleTaxiView.corridaNova.origemLatitude3}" />
			<h:inputHidden id="longitudeCorridaNovaOrigem3" value="#{corridaTeleTaxiView.corridaNova.origemLongitude3}" />
			<h:inputHidden id="latitudeCorridaNovaDestino3" value="#{corridaTeleTaxiView.corridaNova.destinoLatitude3}" />
			<h:inputHidden id="longitudeCorridaNovaDestino3" value="#{corridaTeleTaxiView.corridaNova.destinoLongitude3}" />
			<h:inputHidden id="distanciaCorridaNova3" value="#{corridaTeleTaxiView.corridaNova.distanciaKm3}" />
			<h:inputHidden id="origemCorridaNova3" value="#{corridaTeleTaxiView.corridaNova.origem3}" />
			<h:inputHidden id="destinoCorridaNova3" value="#{corridaTeleTaxiView.corridaNova.destino3}" />
			<h:inputHidden id="minutosCorridaNova3" value="#{corridaTeleTaxiView.corridaNova.previsaoCorrida3}" />
			
			<h:inputHidden id="latitudeCorridaNovaOrigem4" value="#{corridaTeleTaxiView.corridaNova.origemLatitude4}" />
			<h:inputHidden id="longitudeCorridaNovaOrigem4" value="#{corridaTeleTaxiView.corridaNova.origemLongitude4}" />
			<h:inputHidden id="latitudeCorridaNovaDestino4" value="#{corridaTeleTaxiView.corridaNova.destinoLatitude4}" />
			<h:inputHidden id="longitudeCorridaNovaDestino4" value="#{corridaTeleTaxiView.corridaNova.destinoLongitude4}" />
			<h:inputHidden id="distanciaCorridaNova4" value="#{corridaTeleTaxiView.corridaNova.distanciaKm4}" />
			<h:inputHidden id="origemCorridaNova4" value="#{corridaTeleTaxiView.corridaNova.origem4}" />
			<h:inputHidden id="destinoCorridaNova4" value="#{corridaTeleTaxiView.corridaNova.destino4}" />
			<h:inputHidden id="minutosCorridaNova4" value="#{corridaTeleTaxiView.corridaNova.previsaoCorrida4}" />
			
			<h:inputHidden id="latitudeMotoristaExistente" value="#{corridaTeleTaxiView.corrida.motorista.latitudeCorrente}" />
			<h:inputHidden id="longitudeMotoristaExistente" value="#{corridaTeleTaxiView.corrida.motorista.longitudeCorrente}" />
			<h:inputHidden id="dataMotoristaExistente" value="#{corridaTeleTaxiView.corrida.motorista.dataUltimaPosicao}">
				<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
			</h:inputHidden>
			<h:inputHidden id="nomeMotoristaExistente" value="#{corridaTeleTaxiView.corrida.usuarioMotorista.nome}" />
			
			<h:inputHidden id="qtdTrechos" value="#{corridaTeleTaxiView.corridaNova.qtdTrechos}" />
					
			<div class="row" style="margin-top: 50px;">
			
				<div class="modal fade" id="modalCancelarCorrida" tabindex="-1" role="dialog" aria-labelledby="myModalExclusaoLabel">
			    	<div class="modal-dialog">
				        <div class="modal-content">
				        	<h:panelGroup id="panelModalCancelarCorrida">
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Cancelar Corrida</h4>
					          	</div>
				          		<div class="modal-body">
				          			<div class="row">
				          				<div class="col-md-12">
				          					Deseja realmente cancelar a corrida?
				          				</div>
				          				<div class="col-md-12">
				          					<label>Motivo*:</label><br />
						        			<h:inputText id="motivoCancelamentoCorrida" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.motivoCancelamento}" />
				          				</div>
				          			</div>
				          		</div>
				          	</h:panelGroup>
				          	
				          	<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			            		
			            		<pr:commandLink 
			            			styleClass="btn btn-sm btn-primary" 
			            			value="Cancelar"
			            			process="@this motivoCancelamentoCorrida"
			            			update="mensagens corridaTable"
			            			oncomplete="fecharModalCancelar()" 
			            			action="#{corridaTeleTaxiView.cancelarCorrida()}" />
			          		</div>
				          	
				          </div>
			    	</div>
			    </div>
			    
			    <div class="modal fade" id="modalLocalizacaoMotorista" tabindex="-1" role="dialog" aria-labelledby="modalLocalizacaoLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	
				        	<h:panelGroup id="panelModalLocalizacaoMotorista">
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Última Localização do Motorista</h4>
					          	</div>
				          		<div class="modal-body">
				          		
				          			<t:div styleClass="row" rendered="#{empty corridaTeleTaxiView.corrida.motorista or empty corridaTeleTaxiView.corrida.motorista.id}">
				          				
				          				<div class="col-md-12" style="margin-top: 10px;">
				          					<h3>
				          						Atenção: Não existem mais dados do motorista. 
				          						A corrida deve ter sido cancelada pelo motorista. 
				          						Feche essa janela e verifique novamente os dados da corrida.
				          					</h3>
				          				</div>
				          				
				          			</t:div>
				          			
				          			<t:div styleClass="row" rendered="#{not empty corridaTeleTaxiView.corrida.motorista and not empty corridaTeleTaxiView.corrida.motorista.id}">
				          				<div class="col-md-12">
				          					<label>Localização:</label><br />
				          					<div id="googleMap" style="height: 350px;"></div>
				          				</div>
				          			</t:div>
				          		</div>
				          	</h:panelGroup>
				          	
				          	<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			          		</div>
				          	
				          </div>
			    	</div>
			    </div>
			
				<div class="modal fade" id="modalNovaCorrida" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	<h:panelGroup id="panelModalCorridaNova">
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Dados da Nova Corrida</h4>
					          	</div>
				          		<div class="modal-body" style="padding-top: 5px; padding-bottom: 5px;">
				          		
				          			<t:div id="mensagensModal">
					     				<t:div styleClass="row" rendered="#{corridaTeleTaxiView.messages}" style="padding-left: 10px; padding-right: 10px;">
											<t:div rendered="#{corridaTeleTaxiView.mensagensErro}" class="alert alert-danger">
												<h3><i class="fa fa-times"></i> Erro!</h3>
												<h:messages style="list-style-type: none !important;" />
						                    </t:div>
						                    
						                    <t:div rendered="#{!corridaTeleTaxiView.mensagensErro}" class="alert alert-success">
												<h3><i class="fa fa-check"></i> Sucesso!</h3>
												<h:messages style="list-style-type: none !important;" />
						                    </t:div>
										</t:div>
									</t:div>
				          		
				          			<div class="row">
				          				<div class="col-md-5" style="clear: both;">
				          					<label>Tipo de Corrida*:</label>
						        			<h:selectOneMenu 
						        				id="tipoDeCorridaNova"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.tipoCorrida}" 
												label="Tipo de Corrida"
												converter="indexConverter"
												style="height: 42px;">
												<f:selectItem itemLabel="Com Google Maps" itemValue="1" />
												<f:selectItem itemLabel="Sem Google Maps" itemValue="2" />
												<pr:ajax event="change" process="@this" update="divLocalidadesNomes" listener="#{corridaTeleTaxiView.definirNomeCidade}">
												</pr:ajax>
											</h:selectOneMenu>
				          				</div>
				          				<div class="col-md-5">
						        			<label>Empresa de Rádio Táxi*:</label>
						        			<h:selectOneMenu 
						        				id="empresaCorridaNova"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.corridaNova.tipoTeleTaxi}" 
												label="Tipo de Carro"
												style="height: 42px;"
												rendered="#{corridaTeleTaxiView.usuarioTele.tipoTeleTaxi eq 3}">
				        						<f:selectItem itemValue="2" itemLabel="Tele-Táxi" />
				        						<f:selectItem itemValue="1" itemLabel="Ligue-Táxi (APP)" />
				        						<f:selectItem itemValue="3" itemLabel="Ligue-Táxi" />
				        						<f:selectItem itemValue="99" itemLabel="Todas (Qualquer uma)" />
				        						<f:ajax event="change" render="divDadosLigue" />
											</h:selectOneMenu>
											<h:selectOneMenu 
						        				id="empresaCorridaNovaLigue"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.corridaNova.tipoTeleTaxi}" 
												label="Tipo de Carro"
												style="height: 42px;"
												rendered="#{corridaTeleTaxiView.usuarioTele.tipoTeleTaxi eq 1}">
				        						<f:selectItem itemValue="1" itemLabel="Ligue-Táxi (APP)" />
				        						<f:selectItem itemValue="3" itemLabel="Ligue-Táxi" />
											</h:selectOneMenu>
											<h:selectOneMenu 
						        				id="empresaCorridaNovaTele"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.corridaNova.tipoTeleTaxi}" 
												label="Tipo de Carro"
												style="height: 42px;"
												rendered="#{corridaTeleTaxiView.usuarioTele.tipoTeleTaxi eq 2}">
				        						<f:selectItem itemValue="2" itemLabel="Tele-Táxi" />
											</h:selectOneMenu>
										</div>
										<div class="col-md-2" style="text-align: center; padding-top: 30px;">
						        			<a id="btnCorridaAgendada" href="#corridaAgendada" data-toggle="collapse" title="Clique para agendar corrida">
												<i class="fa fa-clock-o fa-2x"></i>
											</a>
										</div>
			    
			    						<t:div id="corridaAgendada" styleClass="collapse" style="clear: both; width: 100%;">
			    							<div class="col-md-5" style="padding-top: 10px;">
							        			<label>Data Agendada:</label><br />
							        			<h:inputText id="dataAgendadaNovaCorrida" styleClass="form-control date-picker data" value="#{corridaTeleTaxiView.corridaNova.dataAgendamento}" />
											</div>
											<div class="col-md-5" style="padding-top: 10px;">
							        			<label>Horário Agendado:</label><br />
							        			<h:inputText id="horarioNovaCorrida" styleClass="form-control hora" value="#{corridaTeleTaxiView.corridaNova.horaAgendamento}" />
											</div>
											<t:div styleClass="col-md-2" style="padding-top: 5px; text-align: center; padding-top: 40px;">
							        			<pr:commandLink update="corridaAgendada" oncomplete="recarregarDatas()" onclick="$('#btnCorridaAgendada').click();" action="#{corridaTeleTaxiView.limparDataAgendada()}" title="Limpar Dados de Agendamento"><i class="fa fa-times fa-2x"></i></pr:commandLink>
											</t:div>
			    						</t:div>
										
				          				<div class="col-md-4" style="clear: both; padding-top: 10px;">
						        			<label>Cidade*:</label>
						        			<h:selectOneMenu 
						        				id="cidadeCorridaNova"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.corridaNova.cidade}" 
												label="Cidade"
												converter="indexConverter"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.listaCidade}" 
															   var="cidade"
															   itemLabel="#{cidade.nome}"
															   itemValue="#{cidade}" />
												<pr:ajax event="change" process="@this" update="nomeCidadeMapa divLocalidadesNomes" oncomplete="mudarLocalidadeMapa('googleMapCorrida')" listener="#{corridaTeleTaxiView.definirNomeCidade}">
													<f:setPropertyActionListener value="#{corridaTeleTaxiView.corridaNova.cidade.nome}" target="#{corridaTeleTaxiView.cidadeMapa}" />
												</pr:ajax>
											</h:selectOneMenu>
										</div>
										<div class="col-md-4" style="padding-top: 10px;">
						        			<label>Tipo Carro*:</label>
						        			<h:selectOneMenu 
						        				id="tipoCorridaNova"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.corridaNova.tipoVeiculo}" 
												label="Tipo de Carro"
												style="height: 42px;">
												<f:selectItem itemLabel="Carro Padrão" itemValue="1" />
												<f:selectItem itemLabel="Carro Adaptado" itemValue="5" />
												<f:selectItem itemLabel="Carro Particular" itemValue="7" />
												<f:selectItem itemLabel="Moto Táxi" itemValue="9" />
											</h:selectOneMenu>
										</div>
										<div class="col-md-4" style="padding-top: 10px;">
						        			<label>Forma de Pagamento*:</label>
						        			<h:selectOneMenu 
						        				id="formaPagamentoCorridaNova"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.corridaNova.formaPagamento}" 
												label="Forma de Pagamento"
												style="height: 42px;">
												<f:selectItem itemLabel="Pagamento c/ Dinheiro Direto ao Motorista" itemValue="2" />
												<f:selectItem itemLabel="Pagamento c/ Cartão de Débito ao Motorista" itemValue="3" />
											</h:selectOneMenu>
										</div>
										<div class="col-md-4" style="clear:both; padding-top: 10px;">
						        			<label>Telefone do Passageiro (com DDD):</label><br />
						        			<h:inputText id="celularPassageiroCorridaNova" styleClass="form-control telefone" maxlength="20" value="#{corridaTeleTaxiView.corridaNova.celularPassageiro}">
						        				<pr:ajax event="blur" listener="#{corridaTeleTaxiView.recuperarDadosPassageiro}" oncomplete="mudarLocalidadeMapa('googleMapCorrida')" update="nomePassageiroTele emailPassageiroTele complementoNovaCorrida observacoesNovaCorrida origemEnderecoCorridaNova origemEnderecoCorridaNova2 origemCorridaNova latitudeCorridaNovaOrigem longitudeCorridaNovaOrigem" />
						        			</h:inputText>
										</div>
										<div class="col-md-4" style="padding-top: 10px;">
						        			<label>Nome do Passageiro*:</label><br />
						        			<h:inputText id="nomePassageiroTele" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.nomePassageiro}" />
										</div>
										<div class="col-md-4" style="padding-top: 10px;">
						        			<label>E-mail do Passageiro*:</label><br />
						        			<h:inputText id="emailPassageiroTele" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.email}" />
										</div>
										<div class="col-md-6" style="padding-top: 10px;">
						        			<label>Complemento (Informações importantes ao Taxista):</label><br />
						        			<h:inputText id="complementoNovaCorrida" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.complemento}" />
										</div>
										<div class="col-md-6" style="padding-top: 5px;">
						        			<label>Observações Sobre Passageiro ou Corrida:</label><br />
						        			<h:inputText id="observacoesNovaCorrida" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.observacaoTele}" />
										</div>
										<t:div id="divDadosLigue" styleClass="col-md-12" style="clear: both; padding-top: 5px;">
											<t:div rendered="#{corridaTeleTaxiView.corridaNova.tipoTeleTaxi eq 3}" style="padding-top: 5px;" styleClass="col-md-6">
												<label>Unidade/Veículo*:</label><br />
												
											</t:div>
											<t:div rendered="#{corridaTeleTaxiView.corridaNova.tipoTeleTaxi eq 3}" style="padding-top: 5px;" styleClass="col-md-6">
												<label>Motorista*:</label><br />
												
											</t:div>
										</t:div>
										<t:div id="divLocalidadesNomes">
											<t:div styleClass="col-md-5" style="clear:both; padding-top: 5px;" rendered="#{corridaTeleTaxiView.tipoCorrida eq 1}">
							        			<label>Origem (Onde o Passageiro Está)*:</label><br />
							        			<h:inputText id="origemEnderecoCorridaNova" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.origemEndereco}" />
											</t:div>
											<t:div styleClass="col-md-5" style="padding-top: 5px;" rendered="#{corridaTeleTaxiView.tipoCorrida eq 1 and not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and (corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 6 or corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 1)}">
							        			<label>Destino*:</label><br />
							        			<h:inputText id="destinoEnderecoCorridaNova" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.destinoEndereco}" />
											</t:div>
											<t:div styleClass="col-md-5" style="clear:both; padding-top: 5px;" rendered="#{corridaTeleTaxiView.tipoCorrida eq 2}">
							        			<label>Origem (Onde o Passageiro Está)*:</label><br />
							        			<h:inputText id="origemEnderecoCorridaNova2" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.origemEndereco}" />
											</t:div>
											<t:div styleClass="col-md-5" style="padding-top: 5px;" rendered="#{corridaTeleTaxiView.tipoCorrida eq 2 and not empty corridaTeleTaxiView.empresaConveniada and (empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico or corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico ne 6)}">
							        			<label>Destino (Não é obrigatório):</label><br />
							        			<h:inputText id="destinoEnderecoCorridaNova2" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.destinoEndereco}" />
											</t:div>
											<t:div styleClass="col-md-2" style="padding-top: 5px; text-align: center; padding-top: 40px;" rendered="#{corridaTeleTaxiView.tipoCorrida eq 1 and not empty corridaTeleTaxiView.empresaConveniada and (corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 6 || corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 1)}">
							        			<pr:commandLink update="origem2Div origem3Div origem4Div qtdTrechos" oncomplete="carregarCampoDestino()" action="#{corridaTeleTaxiView.adicionarTrecho()}" title="Adicionar Trecho"><i class="fa fa-plus fa-2x"></i></pr:commandLink>
											</t:div>
											
											<t:div id="origem2Div">
												<t:div id="divorigemEnderecoCorridaNovaTrecho2" styleClass="col-md-5" style="clear:both; padding-top: 5px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos ge 2}">
								        			<label>Origem 2*:</label><br />
								        			<h:inputText disabled="true" id="origemEnderecoCorridaNovaTrecho2" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.origemEndereco2}" />
												</t:div>
												<t:div id="divdestinoEnderecoCorridaNovaTrecho2" styleClass="col-md-5" style="padding-top: 5px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos ge 2}">
								        			<label>Destino 2*:</label><br />
								        			<h:inputText id="destinoEnderecoCorridaNovaTrecho2" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.destinoEndereco2}" />
												</t:div>
												<t:div id="divMenos1" styleClass="col-md-2" style="padding-top: 5px; text-align: center; padding-top: 40px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos eq 2}">
								        			<pr:commandLink update="origem2Div qtdTrechos" action="#{corridaTeleTaxiView.removerTrecho(2)}" title="Excluir Trecho"><i class="fa fa-minus fa-2x"></i></pr:commandLink>
												</t:div>
											</t:div>
											
											<t:div id="origem3Div">
												<t:div id="divorigemEnderecoCorridaNovaTrecho3" styleClass="col-md-5" style="clear:both; padding-top: 5px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos ge 3}">
								        			<label>Origem 3*:</label><br />
								        			<h:inputText disabled="true" id="origemEnderecoCorridaNovaTrecho3" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.origemEndereco3}" />
												</t:div>
												<t:div id="divdestinoEnderecoCorridaNovaTrecho3" styleClass="col-md-5" style="padding-top: 5px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos ge 3}">
								        			<label>Destino 3*:</label><br />
								        			<h:inputText id="destinoEnderecoCorridaNovaTrecho3" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.destinoEndereco3}" />
												</t:div>
												<t:div id="divMenos2" styleClass="col-md-2" style="padding-top: 5px; text-align: center; padding-top: 40px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos eq 3}">
								        			<pr:commandLink update="origem3Div qtdTrechos" action="#{corridaTeleTaxiView.removerTrecho(3)}" title="Excluir Trecho"><i class="fa fa-minus fa-2x"></i></pr:commandLink>
												</t:div>
											</t:div>
											
											<t:div id="origem4Div">
												<t:div id="divorigemEnderecoCorridaNovaTrecho4" styleClass="col-md-5" style="clear:both; padding-top: 5px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos ge 4}">
								        			<label>Origem 4*:</label><br />
								        			<h:inputText disabled="true" id="origemEnderecoCorridaNovaTrecho4" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.origemEndereco4}" />
												</t:div>
												<t:div id="divdestinoEnderecoCorridaNovaTrecho4" styleClass="col-md-5" style="padding-top: 5px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos ge 4}">
								        			<label>Destino 4*:</label><br />
								        			<h:inputText id="destinoEnderecoCorridaNovaTrecho4" styleClass="form-control" maxlength="500" value="#{corridaTeleTaxiView.corridaNova.destinoEndereco4}" />
												</t:div>
												<t:div  id="divMenos3" styleClass="col-md-2" style="padding-top: 5px; text-align: center; padding-top: 40px;" rendered="#{not empty corridaTeleTaxiView.corridaNova.qtdTrechos and corridaTeleTaxiView.corridaNova.qtdTrechos eq 4}">
								        			<pr:commandLink update="origem4Div qtdTrechos" action="#{corridaTeleTaxiView.removerTrecho(4)}" title="Excluir Trecho"><i class="fa fa-minus fa-2x"></i></pr:commandLink>
												</t:div>
											</t:div>
											
											<t:div styleClass="col-md-12" style="clear:both; padding-top: 5px; padding-bottom: 5px;" rendered="#{corridaTeleTaxiView.tipoCorrida eq 2}">
							        			<label>Região*:</label><br />
							        			<h:selectOneMenu 
							        				id="regiaoNovaCorrida"
					        						styleClass="form-control"
					        						value="#{corridaTeleTaxiView.regiao}" 
													label="Região"
													converter="indexConverter"
													style="height: 42px;">
													<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
													<t:selectItems value="#{corridaTeleTaxiView.localidades}" 
																   var="loc"
																   itemLabel="#{loc.nome}"
																   itemValue="#{loc}" />
												</h:selectOneMenu>
											</t:div>
										</t:div>
										<div class="col-md-6" style="clear: both; padding-top: 10px;">
						        			<label>Empresa Conveniada:</label>
						        			<h:selectOneMenu 
						        				id="empresaConveniadaCorridaNova"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.empresaConveniada}" 
												label="Empresa Conveniada"
												disabled="#{not empty corridaTeleTaxiView.usuarioTele.idEmpresaConveniada}"
												converter="indexConverter"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.empresas}" 
															   var="empresa"
															   itemLabel="#{empresa.nome}"
															   itemValue="#{empresa}" />
												<pr:ajax event="change" update="faixasVoucher voucherCorridaDiv divLocalidadesNomes centroCusto2" oncomplete="mudarLocalidadeMapa('googleMapCorrida')" listener="#{corridaTeleTaxiView.gerarVoucher}" />
												
											</h:selectOneMenu>
										</div>
										<t:div id="centroCusto2" styleClass="col-md-6" style="padding-top: 10px;">
						        			<h:outputLabel value="Centro de Custo:" />
						        			<h:selectOneMenu 
						        				id="centroCustoCorridaNova"
				        						styleClass="form-control"
				        						converter="javax.faces.Long"
				        						value="#{corridaTeleTaxiView.corridaNova.idCentroCusto}" 
				        						disabled="#{not empty corridaTeleTaxiView.usuarioTele.idCentroCusto}"
												label="Centro de Custo"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.centros}" 
															   var="centro"
															   itemLabel="#{centro.nome}"
															   itemValue="#{centro.id}" />
											</h:selectOneMenu>
										</t:div>
										<t:div id="faixasVoucher" styleClass="col-md-4" style="clear: both; padding-top: 5px;">
											<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.numeroInicioVoucher and not empty corridaTeleTaxiView.empresaConveniada.numeroFinalVoucher and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 2}">
							        			<label>Tipo de Voucher:</label><br />
							        			Manual (<h:outputText value="#{corridaTeleTaxiView.empresaConveniada.numeroInicioVoucher}" /> a <h:outputText value="#{corridaTeleTaxiView.empresaConveniada.numeroFinalVoucher}" />)
							        		</t:div>
							        		<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 1}">
							        			<label>Tipo de Voucher</label><br />
							        			Voucher Eletrônico (O voucher será enviado para o e-mail cadastrado da empresa: #{corridaTeleTaxiView.empresaConveniada.email})
							        		</t:div>
							        		<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 6}">
							        			<label>Tipo de Voucher</label><br />
							        			Voucher Eletrônico de Preço Fixo (O voucher será enviado para o e-mail cadastrado da empresa: #{corridaTeleTaxiView.empresaConveniada.email})
							        			<br /><br />
							        			<div style="text-align: left;">
								        			<pr:commandLink 
								        				styleClass="btn btn-sm btn-warning" 
								        				value="Simular Valor" 
								        				update="valorSimulacao mensagensModal mensagens destinoEnderecoCorridaNova origemEnderecoCorridaNova empresaConveniadaCorridaNova voucherCorridaDiv complementoNovaCorrida empresaCorridaNovaTele empresaCorridaNovaLigue empresaCorridaNova emailPassageiroTele nomePassageiroTele celularPassageiroCorridaNova observacoesNovaCorrida formaPagamentoCorridaNova tipoCorridaNova cidadeCorridaNova"
								        				action="#{corridaTeleTaxiView.calcularNovaCorrida()}" /> <br />
								        			<label>
								        				<t:div id="valorSimulacao">
								        					R$ 
									        				<h:outputText value="#{corridaTeleTaxiView.corridaNova.valorFinal}">
									        					<f:convertNumber maxFractionDigits="2" groupingUsed="true" maxIntegerDigits="14" type="currency" locale="pt_BR" pattern="#0.00" />
									        				</h:outputText>
								        			 	</t:div>
								        			</label>
							        			</div>
							        			
							        		</t:div>
							        		<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 6}">
							        			<label>Desconto</label><br />
							        			#{corridaTeleTaxiView.empresaConveniada.descontoPorcentagem} %
							        		</t:div>
							        		<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 3}">
							        			<label>Tipo de Voucher</label><br />
							        			Voucher Pré-Pago (O voucher será enviado para o e-mail cadastrado da empresa: #{corridaTeleTaxiView.empresaConveniada.email})
							        		</t:div>
							        		<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 4}">
							        			<label>Tipo de Voucher</label><br />
							        			Voucher Pós-Pago (O voucher será enviado para o e-mail cadastrado da empresa: #{corridaTeleTaxiView.empresaConveniada.email})
							        		</t:div>
							        		<t:div rendered="#{not empty corridaTeleTaxiView.empresaConveniada and not empty corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico and corridaTeleTaxiView.empresaConveniada.indicadorVoucherEletronico eq 5}">
							        			<label>Tipo de Voucher</label><br />
							        			Voucher Por Km Rodado (R$ #{corridaTeleTaxiView.empresaConveniada.valorKmRodado}/Km) (O voucher será enviado para o e-mail cadastrado da empresa: #{corridaTeleTaxiView.empresaConveniada.email})
							        		</t:div>
										</t:div>
										<br />
										<t:div id="voucherCorridaDiv" styleClass="col-md-4" style="padding-top: 5px;">
						        			<h:outputLabel rendered="#{not empty corridaTeleTaxiView.empresaConveniada.id}">Voucher:</h:outputLabel><br />
						        			<h:inputText rendered="#{not empty corridaTeleTaxiView.empresaConveniada.id}" id="voucherCorrida" styleClass="form-control" maxlength="100" value="#{corridaTeleTaxiView.corridaNova.voucher}" />
										</t:div>
										<div class="col-md-12" style="display: none; clear: both; padding-top: 5px;">
				          					<label>Localização:</label><br />
				          					<div id="googleMapCorrida" style="height: 300px;"></div>
				          				</div>
				          			</div>
				          		</div>
				          	</h:panelGroup>
				          	
				          	<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			            		
			            		<pr:commandLink 
			            			styleClass="btn btn-sm btn-warning"
			            			value="Solicitar Nova Corrida" 
			            			action="#{corridaTeleTaxiView.solicitarNovaCorrida()}"
			            			update="mensagensModal centroCustoCorridaNova mensagens corridaTable destinoEnderecoCorridaNova origemEnderecoCorridaNova empresaConveniadaCorridaNova voucherCorridaDiv faixasVoucher complementoNovaCorrida empresaCorridaNovaTele empresaCorridaNovaLigue empresaCorridaNova emailPassageiroTele nomePassageiroTele celularPassageiroCorridaNova observacoesNovaCorrida formaPagamentoCorridaNova tipoCorridaNova cidadeCorridaNova"
			            			onsuccess="window.scrollTo(0, 0);$('#modalNovaCorrida').scrollTop(0); mudarLocalidadeMapa('googleMapCorrida');" />
			          		</div>
				        </div>
				    </div>
				</div> 
				
				<div class="modal fade" id="modalDetalheVoucher" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	<h:panelGroup id="panelModalDetalheVoucher">
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Voucher da Corrida</h4>
					          	</div>
				          		<div class="modal-body">
				          			<div class="row">
				          				
				          				<div id="qrCodePrint" class="col-md-4" style="clear: both; margin-top: 10px; text-align: center;">
				          					<label>Voucher: <h:outputText styleClass="marcatexto" style="font-size: 23px;" value="#{corridaTeleTaxiView.corrida.voucher}" /></label><br />
						        			<img src="data:image/png;base64, #{corridaTeleTaxiView.imagemQrCode}" />
										</div>
										
				          				<div id="dadosPrint" class="col-md-8">
				          				
											<div class="col-md-6" style="clear: both; margin-top: 10px;">
							        			<label>Passageiro:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.nomePassageiro}" />
											</div>
				          					<div class="col-md-6" style="margin-top: 10px;">
							        			<label>Data de Solicitação:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.dataSolicitacao}">
							        				<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
							        			</h:outputText>
											</div>
											<div class="col-md-6" style="margin-top: 10px;">
							        			<label>Data de Agendamento:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.dataAgendamento}">
							        			</h:outputText>
											</div>
											<div class="col-md-6" style="margin-top: 10px;">
							        			<label>Hora de Agendamento:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.horaAgendamento}">
							        			</h:outputText>
											</div>
											<div class="col-md-6" style="clear: both; margin-top: 10px;">
							        			<label>Origem (Endereço):</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.origemEndereco}" />
											</div>
											<div class="col-md-6" style="margin-top: 10px;">
							        			<label>Destino (Endereço):</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco}" />
											</div>
											
											<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="clear: both; margin-top: 10px;">
							        			<label>Origem 2:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco}" />
											</t:div>
											<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
							        			<label>Destino 2:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco2}" />
											</t:div>
											
											<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="clear: both; margin-top: 10px;">
							        			<label>Origem 3:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco2}" />
											</t:div>
											<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
							        			<label>Destino 3:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco3}" />
											</t:div>
											
											<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="clear: both; margin-top: 10px;">
							        			<label>Origem 4:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco3}" />
											</t:div>
											<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
							        			<label>Destino 4:</label><br />
							        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco4}" />
											</t:div>
											
											<div class="col-md-12" style="clear: both; margin-top: 10px;">
							        			<label>Empresa Conveniada:</label><br />
							        			<h:outputText rendered="#{not empty corridaTeleTaxiView.corrida.empresaConveniada }" value="#{corridaTeleTaxiView.corrida.empresaConveniada.nome}" />
											</div>
											
											<div class="col-md-12" style="clear: both; margin-top: 10px;">
							        			<label>Centro de Custo:</label><br />
							        			<h:outputText rendered="#{not empty corridaTeleTaxiView.corrida.centroCusto }" value="#{corridaTeleTaxiView.corrida.centroCusto.nome}" />
											</div>
					          				
				          				</div>
				          			
				          			</div>
						  		</div>
						  	</h:panelGroup>
			         
			          		<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			            		
			            		<a href="javascript:PrintElem('qrCodePrint', 'dadosPrint')" 
			            			class="btn btn-sm btn-success">Imprimir Voucher</a>
			          		</div>
				   		</div>
					</div>
		   		</div>
			
				<div class="modal fade" id="modalDetalhe" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	<h:panelGroup id="panelModalDetalheCorrida">
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Dados da Corrida</h4>
					          	</div>
				          		<div class="modal-body">
				          			<div class="row">
				          				<div class="col-md-6" style="clear: both; margin-top: 10px;">
				          					<label>Status da Corrida:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.descricaoStatus}" />
				          				</div>
				          				<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Operador(a):</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.usuario.nome}" />
										</div>
				          			</div>
				          			<div class="row">
				          				<div class="col-md-6" style="clear: both; margin-top: 10px;">
						        			<label>Data de Solicitação:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.dataSolicitacao}">
						        				<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
						        			</h:outputText>
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Data de Finalização:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.dataFinalizacao}">
						        				<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
						        			</h:outputText>
										</div>
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Data de Agendamento:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.dataAgendamento}">
						        			</h:outputText>
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Hora de Agendamento:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.horaAgendamento}">
						        			</h:outputText>
										</div>
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Motorista:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.usuarioMotorista.nome}" />
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Celular do Motorista:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.usuarioMotorista.celular}" />
										</div>
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Passageiro:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.nomePassageiro}" />
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Celular do Passageiro:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.celularPassageiro}" />
										</div>
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Origem:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.origem}" />
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Origem (Endereço):</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.origemEndereco}" />
										</div>
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Destino:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino}" />
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Destino (Endereço):</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco}" />
										</div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem (Endereço) 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino2}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino (Endereço) 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco2}" />
										</t:div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino2}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem (Endereço) 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco2}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino3}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino (Endereço) 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco3}" />
										</t:div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino3}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem (Endereço) 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco3}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino4}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino (Endereço) 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destinoEndereco4}" />
										</t:div>
										
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Previsão de Tempo de Corrida:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.previsaoCorridaTotal}" /> minutos
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Tempo de Corrida:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.tempoCorridaFormatada}" />
										</div>
										<br />
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Status:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.descricaoStatus}" />
										</div>
										<div class="col-md-6" style="margin-top: 10px;">
						        			<label>Complemento:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.complemento}" />
										</div>
										<br />
										<div class="col-md-12" style="clear: both; margin-top: 10px;">
						        			<label>Pontos de Apoio:</label><br />
											<h:outputText value="#{corridaTeleTaxiView.corrida.pontosApoio}" />
										</div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.motivoCancelamento}" styleClass="col-md-12" style="clear: both; margin-top: 10px;">
						        			<label>Motivo do Cancelamento:</label><br />
											<h:outputText value="#{corridaTeleTaxiView.corrida.motivoCancelamento}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.motivoRecuperacao}" styleClass="col-md-12" style="clear: both; margin-top: 10px;">
						        			<label>Motivo da Devolução/Recuperação:</label><br />
											<h:outputText value="#{corridaTeleTaxiView.corrida.motivoRecuperacao}" />
										</t:div>
				          			</div>
						  		</div>
						  	</h:panelGroup>
			         
			          		<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			            		
			            		<h:commandLink 
			            			rendered="#{corridaTeleTaxiView.corrida.status eq 1}"
			            			styleClass="btn btn-sm btn-danger"
			            			value="Cancelar Corrida" 
			            			action="#{corridaTeleTaxiView.cancelarCorrida()}" />
			          		</div>
				   		</div>
					</div>
		   		</div>
		   		
		   		<div class="modal fade" id="modalDetalheChat" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	<h:panelGroup id="panelModalDetalheChat">
				        	
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Chat com Motorista</h4>
					          	</div>
				          		<div class="modal-body">
				          		
				          			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: right;">
							    		<pr:commandLink
							    			styleClass="btn btn-primary"
											action="#{corridaTeleTaxiView.carregarChatCorrida()}"
											update="mensagensChat botaoChat"> <i class="fa fa-refresh"></i> Atualizar Chat
							    		</pr:commandLink>
							    	</div>
				          			
				          			<t:div styleClass="row" rendered="#{empty corridaTeleTaxiView.corrida.motorista or empty corridaTeleTaxiView.corrida.motorista.id}">
				          				
				          				<div class="col-md-12" style="margin-top: 10px;">
				          					<h3>
				          						Atenção: Não existem mais dados do motorista. 
				          						A corrida deve ter sido cancelada pelo motorista. 
				          						Feche essa janela e verifique novamente os dados da corrida.
				          					</h3>
				          				</div>
				          				
				          			</t:div>
				          			
				          			<t:div styleClass="row" rendered="#{not empty corridaTeleTaxiView.corrida.motorista and not empty corridaTeleTaxiView.corrida.motorista.id}">
										<div class="col-md-3" style="margin-top: 10px;">
						        			<label>Motorista:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.usuarioMotorista.nome}" />
										</div>
										<div class="col-md-3" style="margin-top: 10px;">
						        			<label>Celular do Motorista:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.usuarioMotorista.celular}" />
										</div>
										<div class="col-md-3" style="margin-top: 10px;">
						        			<label>Passageiro:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.nomePassageiro}" />
										</div>
										<div class="col-md-3" style="margin-top: 10px;">
						        			<label>Celular do Passageiro:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.celularPassageiro}" />
										</div>
										<div class="col-md-12" style="margin-top: 10px;">
											<hr />
										</div>
										
										<t:div id="mensagensChat">
											
											<ui:repeat var="msg" value="#{corridaTeleTaxiView.mensagensChat}">
											
												<div class="col-md-12">
													<h:outputText value="#{msg.mensagem}" /><br />
									    			<strong>De:</strong> #{msg.nome} <br />
									    			<p>
									    				<h:outputText value="#{msg.dataMensagem}">
									    					<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
									    				</h:outputText>
									    			</p>
												</div>
											
											</ui:repeat>
											
										</t:div>
										
										<br />
										
										<h:inputTextarea id="msgChat" styleClass="form-control" value="#{corridaTeleTaxiView.mensagemChat}" />
										
				          			</t:div>
				          			
						  		</div>
				         
				          		<div class="modal-footer">
				          		
				          			<pr:commandLink
				          				styleClass="btn btn-sm btn-default"
				          				value="Fechar"
				          				oncomplete="fecharModalChatCorrida()">
				          				<f:setPropertyActionListener value="#{null}" target="#{corridaTeleTaxiView.corrida}" />
				          			</pr:commandLink>
				          		
				            		<pr:commandLink 
				            			styleClass="btn btn-sm btn-success"
				            			value="Enviar Mensagem" 
				            			id="botaoChat"
				            			update="panelModalDetalheChat"
				            			rendered="#{not empty corridaTeleTaxiView.corrida.motorista and not empty corridaTeleTaxiView.corrida.motorista.id}"
				            			action="#{corridaTeleTaxiView.adicionarMensagem()}" />
				          		</div>
						  	</h:panelGroup>
				   		</div>
					</div>
		   		</div>
		   		
		   		<div class="modal fade" id="modalLocalizacao" tabindex="-1" role="dialog" aria-labelledby="modalLocalizacaoLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	
				        	<h:panelGroup id="panelModalLocalizacao">
				        	
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Percurso da Corrida</h4>
					          	</div>
				          		<div class="modal-body">
				          			<div class="row">
				          				<div class="col-md-6">
				          					<label>Origem:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.origem}" />
				          				</div>
				          				<div class="col-md-6">
				          					<label>Destino:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.destino}" />
				          				</div>
				          				
				          				<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino2}" />
										</t:div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino2}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino3}" />
										</t:div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino3}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino4}" />
										</t:div>
				          				
				          				<br />
				          				<div class="col-md-6">
				          					<label>Motorista:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.usuarioMotorista.nome}" />
				          				</div>
				          				<div class="col-md-6">
				          					<label>Passageiro:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.nomePassageiro}" />
				          				</div>
				          				<br />
										<div class="col-md-6">
						        			<label>Previsão de Tempo de Corrida:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.previsaoCorridaTotal} minutos" />
										</div>
				          				<div class="col-md-12" style="margin-top: 10px;">
				          					<label>Localização:</label><br />
				          					<div id="googleMap2" style="height: 350px;"></div>
				          				</div>
				          			</div>
				          		</div>
				          	</h:panelGroup>
				          	
				          	<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			          		</div>
				          	
				          </div>
			    	</div>
			    </div>
			    
			    <div class="modal fade" id="modalCorridaVisualizacoes" tabindex="-1" role="dialog" aria-labelledby="modalLocalizacaoLabel">
			    	<div class="modal-dialog" style="width: 90%;">
				        <div class="modal-content">
				        	
				        	<h:panelGroup id="panelModalVisualizacao">
				        	
					        	<div class="modal-header">
						            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
						            <h4 class="modal-title">Visualizações da Corrida</h4>
					          	</div>
				          		<div class="modal-body">
				          			<div class="row">
				          				<div class="col-md-6">
				          					<label>Origem:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.origem}" />
				          				</div>
				          				<div class="col-md-6">
				          					<label>Destino:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.destino}" />
				          				</div>
				          				
				          				<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino2}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 2:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino2}" />
										</t:div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino2}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino3}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 3:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino3}" />
										</t:div>
										
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Origem 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino3}" />
										</t:div>
										<t:div rendered="#{not empty corridaTeleTaxiView.corrida.destino4}" styleClass="col-md-6" style="margin-top: 10px;">
						        			<label>Destino 4:</label><br />
						        			<h:outputText value="#{corridaTeleTaxiView.corrida.destino4}" />
										</t:div>
				          				
				          				<br />
				          				<div class="col-md-6">
				          					<label>Motorista:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.usuarioMotorista.nome}" />
				          				</div>
				          				<div class="col-md-6">
				          					<label>Passageiro:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.nomePassageiro}" />
				          				</div>
				          				<br />
				          				<div class="col-md-6" style="clear: both;">
				          					<label>Data da Solicitação:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.dataSolicitacao}">
												<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
											</h:outputText>
										</div>
				          				<br />
				          				<div class="col-md-12" style="clear: both;">
				          					<label>Pontos de Apoio:</label><br />
				          					<h:outputText value="#{corridaTeleTaxiView.corrida.pontosApoio}" />
				          				</div>
				          				<br />
				          				<div class="col-md-12" style="margin-top: 10px;">
				          					<div id="googleMap3" style="height: 200px;"></div>
				          				</div>
				          				<br />
				          				<div class="col-md-12">
					          				<div class="no-padding table-responsive" style="margin-top: 20px;">
								        		<pr:dataTable 
													emptyMessage="Nenhum registro ainda de visualizações da corrida."
													id="visualizacoesTable" 
													var="visualizacao" 
													rows="10"
													rowIndexVar="visualizacaoRow" 
													value="#{corridaTeleTaxiView.visualizacoes}"
													tableStyleClass="table table-striped card-table"
													style="border: 0px solid black !important;"
													tableStyle="border: 0px solid black !important;"
													paginator="true"
													lazy="false"
													paginatorAlwaysVisible="true"
													paginatorPosition="bottom"
													paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
									               	rowsPerPageTemplate="5,10,15,20,50,100">
													<pr:column headerText="#" style="text-align: left; font-size: 85%; width: 20px;">
														<h:outputText value="#{visualizacaoRow + 1}" />
													</pr:column>
													<pr:column headerText="Motorista" style="text-align: left; font-size: 85%; width: 200px;">
														<h:outputText value="#{visualizacao.nomeMotorista}" />
													</pr:column>
													<pr:column headerText="Unidade" style="text-align: center; font-size: 85%; width: 100px;">
														<h:outputText value="#{visualizacao.unidadeVeiculo}" />
													</pr:column>
													<pr:column headerText="Placa" style="text-align: left; font-size: 85%; width: 130px;">
														<h:outputText value="#{visualizacao.placaVeiculo}" />
													</pr:column>
													<pr:column headerText="PA" style="text-align: left; font-size: 85%; width: 150px;">
														<h:outputText value="#{visualizacao.pontoApoio}" />
													</pr:column>
													<pr:column headerText="Visualização" style="text-align: left; font-size: 85%; width: 150px;">
														<h:outputText value="#{visualizacao.dataVisualizacao}">
															<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
														</h:outputText>
													</pr:column>
													<pr:column headerText="Entrou no PA" style="text-align: left; font-size: 85%; width: 180px;">
														<h:outputText value="#{visualizacao.dataEntrouPA}">
															<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
														</h:outputText>
													</pr:column>
													<pr:column headerText="Últ. Posição" style="text-align: left; font-size: 85%; width: 170px;">
														<h:outputText value="#{visualizacao.dataUltimaPosicao}">
															<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
														</h:outputText>
													</pr:column>
													<pr:column headerText="Ações" styleClass="tools" style="text-align: center; font-size: 85%; width: 85px;">
														<a href="javascript:void(0);"
															style="margin-left: 10px; color: #70B9B0;" 
															title="Mostrar no Mapa"
															onclick="marcarMotoristaMapa('#{visualizacao.latitude}', '#{visualizacao.longitude}', '#{visualizacao.nomeMotorista}');">
															<span class="fa fa-map-marker"></span>
														</a>
													</pr:column>
												</pr:dataTable>
						      				</div>
						      			</div>
				          			</div>
				          		</div>
				          	</h:panelGroup>
				          	
				          	<div class="modal-footer">
			            		<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Fechar</button>
			          		</div>
				          	
				          </div>
			    	</div>
			    </div>
			    
			    <t:div id="btnCardsDashboard" styleClass="row" rendered="#{empty corridaTeleTaxiView.usuarioTele.idEmpresaConveniada}">
	        		<div class="col-md-12" style="text-align: right;">
	        			<a href="#cardsDashboard"
							class="btn btn-primary"
							data-toggle="collapse"
							style="margin-right: 30px; margin-bottom: 20px;">
	        				<i class="fa fa-bar-chart"></i> Visualizar/Esconder Dashboard
	        			</a>
	        		</div>
	        	</t:div>
			    
			    <t:div id="cardsDashboard" styleClass="col-sm-12 col-xs-12 collapse" style="margin-bottom: 30px;">
			    	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: right;">
			    		<pr:commandLink
			    			styleClass="btn btn-primary"
			    			process="@this"
							action="#{corridaTeleTaxiView.carregarContadoresAutomaticamente()}"
							update="cardsDashboard"> <i class="fa fa-refresh"></i> Atualizar Dashboard
			    		</pr:commandLink>
			    	</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas no Mês</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasMes}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Últ. 24h</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridas24Horas}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink action="#{dashboardView.carregarTelaMotoristasAtivos()}" 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Hoje</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasHoje}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Últ. Turno Madrugada</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasMadrugada}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Últ. Turno Manhã</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasManha}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Últ. turno Tarde</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasTarde}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink 
			  					styleClass="card card-banner card-green-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-check fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Últ. Turno Noite</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasNoite}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink
			  					styleClass="card card-banner card-red-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-times fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Canceladas Hoje</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasCanceladasHoje}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink
			  					styleClass="card card-banner card-yellow-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-warning fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas Solicitadas</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasSolicitadas}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
			  		<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			  			<h:commandLink
			  					styleClass="card card-banner card-yellow-light">
					  		<div class="card-body">
					    		<i class="icon fa fa-warning fa-4x"></i>
							    <div class="content">
							      	<div class="title" style="font-weight: bold;">Corridas em Andamento</div>
							      	<div class="value">#{corridaTeleTaxiView.qtdCorridasAndamento}</div>
							    </div>
					  		</div>
					  	</h:commandLink>
			  		</div>
				</t:div>		  		
		   		
				<div class="col-sm-12 col-xs-12">
		      		<div class="card">
		        		<div class="card-header">
		        			Pesquisa
		        		</div>
		        		<div class="card-body">
		          			<div class="section">
		            			<div class="section-body">
		            			
		            				<t:div id="mensagens">
					     				<t:div styleClass="row" rendered="#{corridaTeleTaxiView.messages}" style="padding-left: 10px; padding-right: 10px;">
											<t:div rendered="#{corridaTeleTaxiView.mensagensErro}" class="alert alert-danger">
												<h3><i class="fa fa-times"></i> Erro!</h3>
												<h:messages style="list-style-type: none !important;" />
						                    </t:div>
						                    
						                    <t:div rendered="#{!corridaTeleTaxiView.mensagensErro}" class="alert alert-success">
												<h3><i class="fa fa-check"></i> Sucesso!</h3>
												<h:messages style="list-style-type: none !important;" />
						                    </t:div>
										</t:div>
									</t:div>
									        
						        	<div class="row">
						        		<div class="col-md-12" style="text-align: right;">
						        			<a href="#collapseFiltro"
												class="btn btn-warning"
												data-toggle="collapse"
												style="margin-right: 10px;">
						        				<i class="fa fa-search"></i> Visualizar/Esconder Filtro de Pesquisa
						        			</a>
						        			
						        			<pr:commandLink 
						        				update="panelModalCorridaNova nomeCidadeMapa 
						        				latitudeCorridaNovaOrigem longitudeCorridaNovaOrigem
						        				longitudeCorridaNovaDestino distanciaCorridaNova origemCorridaNova
						        				destinoCorridaNova minutosCorridaNova
						        				latitudeCorridaNovaOrigem2 longitudeCorridaNovaOrigem2
						        				longitudeCorridaNovaDestino2 distanciaCorridaNova2 origemCorridaNova2
						        				destinoCorridaNova2 minutosCorridaNova2
						        				latitudeCorridaNovaOrigem3 longitudeCorridaNovaOrigem3
						        				longitudeCorridaNovaDestino3 distanciaCorridaNova3 origemCorridaNova3
						        				destinoCorridaNova3 minutosCorridaNova3
						        				latitudeCorridaNovaOrigem4 longitudeCorridaNovaOrigem4
						        				longitudeCorridaNovaDestino4 distanciaCorridaNova4 origemCorridaNova4
						        				destinoCorridaNova4 minutosCorridaNova4"
						        				action="#{corridaTeleTaxiView.carregarNovaCorrida()}"
												process="@this" 
												styleClass="btn btn-primary" 
												onclick="exibirNovaCorrida()">
						        				<i class="fa fa-plus"></i> Chamar Corrida
						        				<f:setPropertyActionListener value="#{null}" target="#{corridaTeleTaxiView.corridaNova}"></f:setPropertyActionListener>
						        				<f:setPropertyActionListener value="#{null}" target="#{corridaTeleTaxiView.cidadeMapa}"></f:setPropertyActionListener>
						        				<f:setPropertyActionListener value="1" target="#{corridaTeleTaxiView.tipoCorrida}"></f:setPropertyActionListener>
						        				<f:setPropertyActionListener value="#{null}" target="#{corridaTeleTaxiView.regiao}"></f:setPropertyActionListener>
						        				<f:setPropertyActionListener value="#{null}" target="#{corridaTeleTaxiView.empresaConveniada}"></f:setPropertyActionListener>
						        			</pr:commandLink>
						        		</div>
						        		<br />
						        	</div>
						        	<div class="row collapse" id="collapseFiltro">
						        	
						        		<div class="col-md-12" style="clear: both; padding-bottom: 10px;">
						        			<h3>Filtro de Pesquisa</h3>
						        		</div>
						        	
							        	<div class="col-md-4" style="clear: both;">
						        			<label>Nome do Motorista:</label>
											<h:inputText 
						        				id="nomePesquisa"
						        				styleClass="form-control" 
						        				label="Nome do Motorista" 
						        				value="#{corridaTeleTaxiView.filtro.motorista.nome}">
						        				<f:passThroughAttribute name="placeholder" value="Nome do Motorista" />
						        			</h:inputText>
										</div>
										<div class="col-md-4">
						        			<label>Nome do Passageiro:</label>
											<h:inputText 
						        				id="nomePassageiroPesquisa"
						        				styleClass="form-control" 
						        				label="Nome do Passageiro" 
						        				value="#{corridaTeleTaxiView.filtro.nomePassageiro}">
						        				<f:passThroughAttribute name="placeholder" value="Nome do Passageiro" />
						        			</h:inputText>
										</div>
										<div class="col-md-4">
						        			<label>Unidade do Motorista:</label>
											<h:inputText 
						        				id="unidadePesquisa"
						        				styleClass="form-control" 
						        				label="Unidade do Motorista" 
						        				value="#{corridaTeleTaxiView.filtro.unidadeMotorista}">
						        				<f:passThroughAttribute name="placeholder" value="Unidade do Motorista" />
						        			</h:inputText>
										</div>
										<br />
										<div class="col-md-4" style="clear: both;">
						        			<label>Celular do Passageiro:</label>
											<h:inputText 
						        				id="celularPassageiroPesquisa"
						        				styleClass="form-control telefone" 
						        				label="Celular do Passageiro" 
						        				value="#{corridaTeleTaxiView.filtro.celularPassageiro}">
						        				<f:passThroughAttribute name="placeholder" value="Celular do Passageiro" />
						        			</h:inputText>
										</div>
										<div class="col-md-4">
						        			<label>Data de Solicitação:</label>
						        			<h:inputText id="dataSolicitacaoPesquisa" styleClass="form-control data date-picker" label="Data de Solicitação" value="#{corridaTeleTaxiView.filtro.dataSolicitacao}">
						        				<f:passThroughAttribute name="placeholder" value="Data de Solicitação" />
						        			</h:inputText>
										</div>
										<div class="col-md-4">
						        			<label>Data de Finalização:</label>
						        			<h:inputText id="dataFinalizacaoPesquisa" styleClass="form-control data date-picker" label="Data de Finalização" value="#{corridaTeleTaxiView.filtro.dataFinalizacao}">
						        				<f:passThroughAttribute name="placeholder" value="Data de Finalização" />
						        			</h:inputText>
										</div>
										<br />
										<div class="col-md-4" style="clear: both;">
						        			<label>Cidade:</label>
						        			<h:selectOneMenu 
						        				id="cidadePesquisa"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.filtro.cidade}" 
												label="Cidade"
												converter="indexConverter"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.listaCidade}" 
															   var="cidade"
															   itemLabel="#{cidade.nome}"
															   itemValue="#{cidade}" />
											</h:selectOneMenu>
										</div>
										<div class="col-md-4">
						        			<label>Status da Corrida:</label>
						        			<h:selectOneMenu 
						        				id="statusPesquisa"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.filtro.status}" 
												label="Status da Corrida"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.listaStatusCorrida}" 
															   var="status"
															   itemLabel="#{status.descricao}"
															   itemValue="#{status.status}" />
											</h:selectOneMenu>
										</div>
										<br />
										<div class="col-md-6" style="clear: both;">
						        			<label>Empresa Conveniada:</label>
						        			<h:selectOneMenu 
						        				id="empresaPesquisa"
				        						styleClass="form-control"
				        						value="#{corridaTeleTaxiView.filtro.idEmpresaConveniada}" 
												label="Empresa Conveniada"
												disabled="#{not empty corridaTeleTaxiView.usuarioTele.idEmpresaConveniada}"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.empresas}" 
															   var="empresa"
															   itemLabel="#{empresa.nome}"
															   itemValue="#{empresa.id}" />
												<f:ajax event="change" render="centroCusto" listener="#{usuarioAppEmpresaView.carregarCentrosCusto()}" />
											</h:selectOneMenu>
										</div>
										<t:div id="centroCusto" styleClass="col-md-6">
						        			<h:outputLabel value="Centro de Custo:" />
						        			<h:selectOneMenu 
						        				id="centroCustoPesquisa"
				        						styleClass="form-control"
				        						converter="javax.faces.Long"
				        						value="#{corridaTeleTaxiView.filtro.idCentroCusto}" 
				        						disabled="#{not empty corridaTeleTaxiView.usuarioTele.idCentroCusto}"
												label="Centro de Custo"
												style="height: 42px;">
												<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
												<t:selectItems value="#{corridaTeleTaxiView.centros}" 
															   var="centro"
															   itemLabel="#{centro.nome}"
															   itemValue="#{centro.id}" />
											</h:selectOneMenu>
										</t:div>
										<div class="col-md-4" style="clear: both; margin-top: 10px;">
						        			<label>Voucher:</label>
						        			<h:inputText id="voucherPesquisa" styleClass="form-control" label="Voucher" value="#{corridaTeleTaxiView.filtro.voucher}">
						        				<f:passThroughAttribute name="placeholder" value="Voucher" />
						        			</h:inputText>
										</div>
										<div class="col-md-4" style="margin-top: 10px;">
						        			<label>Placa do Veículo:</label>
						        			<h:inputText id="placaPesquisa" styleClass="form-control" label="Placa do Veículo" value="#{corridaTeleTaxiView.filtro.placaVeiculo}">
						        				<f:passThroughAttribute name="placeholder" value="Placa do Veículo" />
						        			</h:inputText>
										</div>
										<br />
										<div class="col-md-6" style="clear: both;">
						        			<label>Data de Início (Solicitação):</label>
						        			<h:inputText id="dataInicioSolicitacaoPesquisa" styleClass="form-control data date-picker" label="Data de Início (Solicitação)" value="#{corridaTeleTaxiView.filtro.dataInicioPeriodo}">
						        				<f:passThroughAttribute name="placeholder" value="Data de Início (Solicitação)" />
						        			</h:inputText>
										</div>
										<div class="col-md-6">
						        			<label>Data de Fim (Solicitação):</label>
						        			<h:inputText id="dataFimSolicitacaoPesquisa" styleClass="form-control data date-picker" label="Data de Fim (Solicitação)" value="#{corridaTeleTaxiView.filtro.dataFimPeriodo}">
						        				<f:passThroughAttribute name="placeholder" value="Data de Fim (Solicitação)" />
						        			</h:inputText>
										</div>
										<br />
										<div class="col-md-12" style="text-align: right; margin-top: 10px;">
				        					<pr:commandLink 
				        						styleClass="btn btn-default" 
				        						style="margin-right: 10px;" 
				        						value="Limpar"
				        						update="nomePesquisa placaPesquisa centroCustoPesquisa dataInicioSolicitacaoPesquisa dataFimSolicitacaoPesquisa unidadePesquisa celularPassageiroPesquisa empresaPesquisa voucherPesquisa nomePassageiroPesquisa dataSolicitacaoPesquisa dataFinalizacaoPesquisa cidadePesquisa statusPesquisa corridaTable mensagens"
						        				action="#{corridaTeleTaxiView.limparFormulario()}"
						        				process="@this"
						        				immediate="true" />
									        				
						        			<pr:commandLink 
						        				styleClass="btn btn-info" 
						        				value="Pesquisar"
						        				action="#{corridaTeleTaxiView.pesquisarCorridaPorFiltro()}" 
						        				update="corridaTable"
						        				process="@this,nomePesquisa,centroCustoPesquisa,dataInicioSolicitacaoPesquisa,dataFimSolicitacaoPesquisa,placaPesquisa,unidadePesquisa,celularPassageiroPesquisa,voucherPesquisa,empresaPesquisa,nomePassageiroPesquisa,dataSolicitacaoPesquisa,dataFinalizacaoPesquisa,cidadePesquisa,statusPesquisa" />
				        					
				        					<hr />
				        				</div>
						        		
					        		</div>
					        		
					        		<div class="no-padding table-responsive" style="margin-top: 20px;">
						        		<pr:dataTable 
											emptyMessage="Nenhum resultado encontrado com os filtros fornecidos."
											id="corridaTable" 
											var="corrida" 
											rows="10"
											rowIndexVar="corridaRow" 
											value="#{corridaTeleTaxiView.corridaDataModel}"
											tableStyleClass="table table-striped card-table"
											style="border: 0px solid black !important;"
											tableStyle="border: 0px solid black !important;"
											paginator="true"
											lazy="true"
											paginatorAlwaysVisible="true"
											paginatorPosition="bottom"
											paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
							               	rowsPerPageTemplate="5,10,15,20,50,100">
											<pr:column headerText="#" style="text-align: left; font-size: 85%; width: 30px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corridaRow + 1}" />
											</pr:column>
											<pr:column exportable="false" headerText="Ações" styleClass="tools" style="text-align: left; font-size: 90%; width: 180px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorrida(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Detalhar Corrida"
													oncomplete="exibirDetalhesCorrida();" 
													update="panelModalDetalheCorrida"
													process="@this">
													<span class="fa fa-search"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorridaVoucher(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Visualizar Voucher"
													update="panelModalDetalheVoucher"
													rendered="#{not empty corrida.voucher}"
													oncomplete="exibirVoucherCorrida();" 
													process="@this">
													<span class="fa fa-qrcode"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorrida(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Cancelar Corrida"
													rendered="#{corrida.status eq 1 or corrida.status eq 2 or corrida.status eq 4 or corrida.status eq 7}"
													oncomplete="exibirCancelarCorrida();" 
													process="@this">
													<span class="fa fa-times"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorrida(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Posição Atual do Motorista"
													update="panelModalLocalizacaoMotorista latitudeMotoristaExistente longitudeMotoristaExistente dataMotoristaExistente nomeMotoristaExistente latitudeCorridaOrigem longitudeCorridaOrigem latitudeCorridaDestino longitudeCorridaDestino"
													rendered="#{corrida.status ne 1 and corrida.status ne 3 and corrida.status ne 6 and corrida.status ne 5}"
													oncomplete="exibirLocalizacaoMotorista();" 
													process="@this">
													<span class="fa fa-map-marker"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarChatCorrida(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Chat com Motorista"
													oncomplete="exibirDetalhesChatCorrida();" 
													rendered="#{corrida.status eq 2 or corrida.status eq 4}"
													update="panelModalDetalheChat botaoChat"
													process="@this">
													<span class="fa fa-comments"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorrida(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Exibir/Acompanhar Percurso"
													rendered="#{corrida.status ne 2 and corrida.status ne 1 and corrida.status ne 3 and corrida.status ne 6}"
													oncomplete="exibirPercursoCorrida('#{corrida.origem}', '#{corrida.destino}');" 
													update="panelModalLocalizacao latitudeMotoristaExistente longitudeMotoristaExistente latitudeCorridaCorrente longitudeCorridaCorrente latitudeCorridaOrigem longitudeCorridaOrigem latitudeCorridaDestino longitudeCorridaDestino latitudesPercurso longitudesPercurso"
													process="@this">
													<span class="fa fa-map"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorridaVisualizacoes(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Visualizações de Motoristas"
													oncomplete="exibirModalVisualizacoes()" 
													update="panelModalVisualizacao latitudeCorridaOrigem longitudeCorridaOrigem latitudeCorridaDestino longitudeCorridaDestino"
													process="@this">
													<span class="fa fa-taxi"></span>
												</pr:commandLink>
												<pr:commandLink 
													action="#{corridaTeleTaxiView.carregarCorridaRefazer(corrida)}" 
													style="margin-right: 5px; color: #70B9B0;" 
													title="Refazer Corrida"
													rendered="#{(corrida.status eq 3 or corrida.status eq 6) and corrida.tipoTeleTaxi ne 99 and empty corrida.destino2 and not empty corrida.origemLatitude and not empty corrida.origemLongitude}"
													oncomplete="exibirNovaCorrida();" 
													update="panelModalCorridaNova nomeCidadeMapa latitudeCorridaNovaOrigem longitudeCorridaNovaOrigem latitudeCorridaNovaDestino longitudeCorridaNovaDestino distanciaCorridaNova origemCorridaNova destinoCorridaNova minutosCorridaNova
													latitudeCorridaNovaOrigem2 longitudeCorridaNovaOrigem2
							        				longitudeCorridaNovaDestino2 distanciaCorridaNova2 origemCorridaNova2
							        				destinoCorridaNova2 minutosCorridaNova2
							        				latitudeCorridaNovaOrigem3 longitudeCorridaNovaOrigem3
							        				longitudeCorridaNovaDestino3 distanciaCorridaNova3 origemCorridaNova3
							        				destinoCorridaNova3 minutosCorridaNova3
							        				latitudeCorridaNovaOrigem4 longitudeCorridaNovaOrigem4
							        				longitudeCorridaNovaDestino4 distanciaCorridaNova4 origemCorridaNova4
							        				destinoCorridaNova4 minutosCorridaNova4"
													process="@this">
													<span class="fa fa-refresh"></span>
												</pr:commandLink>
											</pr:column>
											<pr:column headerText="Empresa" style="text-align: left; font-size: 85%; width: 150px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="Ligue-Táxi (APP)" rendered="#{corrida.tipoTeleTaxi eq 1}" />
												<h:outputText value="Tele-Táxi" rendered="#{corrida.tipoTeleTaxi eq 2}" />
												<h:outputText value="Ligue-Táxi" rendered="#{corrida.tipoTeleTaxi eq 3}" />
												<h:outputText value="Voucher (via App)" rendered="#{corrida.tipoTeleTaxi eq 99}" />
											</pr:column>
											<pr:column headerText="Status" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.descricaoStatus}" />
											</pr:column>
											<pr:column headerText="Nome do Passageiro" style="text-align: left; font-size: 85%; width: 280px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.nomePassageiro}" />
											</pr:column>
											<pr:column headerText="Unidade" style="text-align: left; font-size: 85%; width: 140px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText rendered="#{not empty corrida.veiculo}" value="#{corrida.veiculo.unidade}" />
											</pr:column>
											<pr:column headerText="Nome do Motorista" style="text-align: left; font-size: 85%; width: 280px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.usuarioMotorista.nome}" />
											</pr:column>
											<pr:column headerText="Cel. do Motorista" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.usuarioMotorista.celular}" />
											</pr:column>
											<pr:column headerText="Veículo" style="text-align: left; font-size: 85%; width: 150px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText rendered="#{not empty corrida.veiculo}" value="#{corrida.veiculo.marca}" />
											</pr:column>
											<pr:column headerText="Placa" style="text-align: left; font-size: 85%; width: 140px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText rendered="#{not empty corrida.veiculo}" value="#{corrida.veiculo.placa}" />
											</pr:column>
											<pr:column headerText="Solicitação" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.dataSolicitacao}">
													<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
												</h:outputText>
											</pr:column>
											<pr:column headerText="Finalização" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.dataFinalizacao}">
													<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm:ss"/>
												</h:outputText>
											</pr:column>
											<pr:column headerText="Agendamento" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.dataAgendamento} " /> <h:outputText rendered="#{not empty corrida.dataAgendamento}" value=" às " /> <h:outputText value=" #{corrida.horaAgendamento}" />
											</pr:column>
											<pr:column headerText="Tipo Carro" style="text-align: left; font-size: 85%; width: 150px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText rendered="#{corrida.indicadorAdaptado eq 1}" value="Carro Adaptado" />
												<h:outputText rendered="#{corrida.indicadorAdaptado ne 1 and corrida.tipoVeiculo eq 1}" value="Carro Padrão" />
												<h:outputText rendered="#{corrida.indicadorAdaptado ne 1 and corrida.tipoVeiculo eq 7}" value="Carro Particular" />
												<h:outputText rendered="#{corrida.indicadorAdaptado ne 1 and corrida.tipoVeiculo eq 9}" value="Moto Táxi" />
											</pr:column>
											<pr:column headerText="Pontos de Apoio" style="text-align: left; font-size: 85%; width: 350px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.pontosApoio}" />
											</pr:column>
											<pr:column headerText="Voucher" style="text-align: left; font-size: 85%; width: 150px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.voucher}" />
											</pr:column>
											<pr:column headerText="Celular do Passageiro" style="text-align: left; font-size: 85%; width: 250px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.celularPassageiro}" />
											</pr:column>
											<pr:column headerText="Empresa" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText rendered="#{not empty corrida.empresaConveniada}" value="#{corrida.empresaConveniada.nome}" />
											</pr:column>
											<pr:column headerText="Centro de Custo" style="text-align: left; font-size: 85%; width: 200px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText rendered="#{not empty corrida.centroCusto}" value="#{corrida.centroCusto.nome}" />
											</pr:column>
											<pr:column headerText="Cidade de Trab." style="text-align: left; font-size: 85%; width: 250px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.motorista.cidade.nome} - #{corrida.motorista.cidade.siglaUf}" />
											</pr:column>
											<pr:column headerText="Valor Final" style="text-align: left; font-size: 85%; width: 150px; #{corrida.status eq 3 or corrida.status eq 6 ? 'background-color: #FCF1EE;' : ''} #{corrida.status eq 5 ? 'background-color: rgba(41, 199, 95, 0.05)' : ''} #{corrida.status eq 1 and not empty corrida.dataRecuperacao ? 'background-color: rgba(253, 186, 19, 0.32)' : ''}">
												<h:outputText value="#{corrida.valorFinal}" />
											</pr:column>
										</pr:dataTable>
										
										<h:commandLink title="XLS" style="margin-right: 5px;">
											<h:graphicImage value="/public/template/assets/images/excel.png" width="22" />
											<pr:dataExporter type="xls" target="corridaTable" fileName="registros" />
										</h:commandLink>
										
										<h:commandLink title="PDF" style="margin-right: 5px;">
											<h:graphicImage value="/public/template/assets/images/pdf.png" width="22" />
											<pr:dataExporter type="pdf" target="corridaTable" fileName="registros"/>
										</h:commandLink>
										
										<h:commandLink title="CSV">
											<h:graphicImage value="/public/template/assets/images/csv.png" width="22" />
											<pr:dataExporter type="csv" target="corridaTable" fileName="registros" />
										</h:commandLink>
										
				      				</div>
						        	
						        </div>
							</div>
						</div>	
					</div>
				</div>
			</div>
			
			<script src="https://maps.google.com/maps/api/js?file=api&amp;v=3&amp;key=AIzaSyBqwOrp--K7rhl--mQvsdIqwSX4voNqR1g&amp;libraries=places"></script>
			
			<h:outputScript>
	    		//<![CDATA[	
	    		
	    			var map;
				 	var center;
				 	var latitude;
				 	var longitude;
				 	var origemPlaceId;
				 	var destinoPlaceId;
				 	var origemPlaceId2;
				 	var destinoPlaceId2;
				 	var origemPlaceId3;
				 	var destinoPlaceId3;
				 	var origemPlaceId4;
				 	var destinoPlaceId4;
				 	var nomeMotorista;
				 	
					function fecharModalCorrida() {
						$('#modalDetalhe').modal('hide');
						window.scrollTo(0, 0);
					}
					function exibirDetalhesCorrida() {
						$('#modalDetalhe').modal('show');
					}
					function fecharModalChatCorrida() {
						$('#modalDetalheChat').modal('hide');
					}
					function exibirDetalhesChatCorrida() {
						$('#modalDetalheChat').modal('show');
					}
					function exibirVoucherCorrida() {
						$('#modalDetalheVoucher').modal('show');
					}
					function fecharModalLocalizacao() {
						$('#modalLocalizacao').modal('hide');
						window.scrollTo(0, 0);
					}
					function exibirNovaCorrida() {
						$('#modalNovaCorrida').modal('show');
					}
					function fecharModalNovaCorrida() {
						$('#modalNovaCorrida').modal('hide');
						window.scrollTo(0, 0);
					}
					function exibirCancelarCorrida() {
						$('#modalCancelarCorrida').modal('show');
					}
					function fecharModalCancelar() {
						$('#modalCancelarCorrida').modal('hide');
						window.scrollTo(0, 0);
					}
					function exibirModalVisualizacoes() {
					
						console.log('passou maps 6');
					
						$('#modalCorridaVisualizacoes').modal('show');
						
						var latOrigem = $('#latitudeCorridaOrigem').val();
						var lngOrigem = $('#longitudeCorridaOrigem').val();
						console.log('latOrigem: ' + latOrigem);
						console.log('longOrigem: ' + lngOrigem);
						
						var latDestino =  $('#latitudeCorridaDestino').val();
						var lngDestino = $('#longitudeCorridaDestino').val();
						
						center = { lat: parseFloat(latitude), lng: parseFloat(longitude) };
				        map = new google.maps.Map(document.getElementById('googleMap3'), {
				          zoom: 11,
				          mapTypeId: google.maps.MapTypeId.ROADMAP,
				          center: { lat: parseFloat(latDestino), lng: parseFloat(lngDestino) }
				        });
				        
				        var markerOrigem  = new google.maps.Marker({
			        	  position: { lat: parseFloat(latOrigem), lng: parseFloat(lngOrigem) },
				          map: map,
				          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/inicio.png",
				          title: "Origem do Passageiro"
				        });
				        
				        var markerDestino  = new google.maps.Marker({
			        	  position: { lat: parseFloat(latDestino), lng: parseFloat(lngDestino) },
				          map: map,
				          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/fim.png",
				          title: "Destino da Corrida"
				        });
				        
					}
					
					function marcarMotoristaMapa(latitude, longitude, nomeMotorista) {
						
						marker = new google.maps.Marker({
				          position: { lat: parseFloat(latitude), lng: parseFloat(longitude) },
				          map: map,
				          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/taxi.png",
				          title: nomeMotorista
				        });
					}
					
					function exibirLocalizacaoMotorista() {
					
						console.log('passou maps 5');
					
						latitude = $('#latitudeMotoristaExistente').val();
						longitude = $('#longitudeMotoristaExistente').val();
						
						if (latitude != null && longitude != null
							&& latitude != '' && longitude != '') {
							var latOrigem = $('#latitudeCorridaOrigem').val();
							var lngOrigem = $('#longitudeCorridaOrigem').val();
							console.log('latOrigem: ' + latOrigem);
							console.log('longOrigem: ' + lngOrigem);
							
							var latDestino =  $('#latitudeCorridaDestino').val();
							var lngDestino = $('#longitudeCorridaDestino').val();
							
							nomeMotorista = $('#nomeMotoristaExistente').val();
							
							center = { lat: parseFloat(latitude), lng: parseFloat(longitude) };
					        map = new google.maps.Map(document.getElementById('googleMap'), {
					          zoom: 11,
					          mapTypeId: google.maps.MapTypeId.ROADMAP,
					          center: { lat: parseFloat(latitude), lng: parseFloat(longitude) }
					        });
					        
					        var markerOrigem  = new google.maps.Marker({
				        	  position: { lat: parseFloat(latOrigem), lng: parseFloat(lngOrigem) },
					          map: map,
					          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/inicio.png",
					          title: "Origem do Passageiro"
					        });
					        
					        var markerDestino  = new google.maps.Marker({
				        	  position: { lat: parseFloat(latDestino), lng: parseFloat(lngDestino) },
					          map: map,
					          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/fim.png",
					          title: "Destino da Corrida"
					        });
					        
					        marker = new google.maps.Marker({
					          position: { lat: parseFloat(latitude), lng: parseFloat(longitude) },
					          map: map,
					          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/taxi.png",
					          title: nomeMotorista
					        });
						}
				        
				        $('#modalLocalizacaoMotorista').modal('show');
					    
					}
					
					function exibirLocalizacaoMotorista2() {
					
						console.log('passou maps 4');
					
						latitude = $('#latitudeMotoristaExistente').val();
						longitude = $('#longitudeMotoristaExistente').val();
						
						if (latitude && longitude) {
						
							var latOrigem = $('#latitudeCorridaOrigem').val();
							var lngOrigem = $('#longitudeCorridaOrigem').val();
							console.log('latOrigem: ' + latOrigem);
							console.log('longOrigem: ' + lngOrigem);
							
							var latDestino =  $('#latitudeCorridaDestino').val();
							var lngDestino = $('#longitudeCorridaDestino').val();
							
							nomeMotorista = $('#nomeMotoristaExistente').val();
							
							center = { lat: parseFloat(latitude), lng: parseFloat(longitude) };
					        map = new google.maps.Map(document.getElementById('googleMap'), {
					          zoom: 11,
					          mapTypeId: google.maps.MapTypeId.ROADMAP,
					          center: { lat: parseFloat(latitude), lng: parseFloat(longitude) }
					        });
					        
					        var markerOrigem  = new google.maps.Marker({
				        	  position: { lat: parseFloat(latOrigem), lng: parseFloat(lngOrigem) },
					          map: map,
					          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/inicio.png",
					          title: "Origem do Passageiro"
					        });
					        
					        var markerDestino  = new google.maps.Marker({
				        	  position: { lat: parseFloat(latDestino), lng: parseFloat(lngDestino) },
					          map: map,
					          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/fim.png",
					          title: "Destino da Corrida"
					        });
					        
					        marker = new google.maps.Marker({
					          position: { lat: parseFloat(latitude), lng: parseFloat(longitude) },
					          map: map,
					          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/taxi.png",
					          title: nomeMotorista
					        });
				        }
					}
					
					function recarregarDatas() {
		        		
		        		$('.date-picker').datepicker({
		        			format: "dd/mm/yyyy",
		        			language: "pt-BR",
		        			todayHighlight: true,
		        			autoclose: true,
		        			clearBtn: true,
		        			changeMonth: true,
		        		    changeYear: true,
		        		});
		
		        		$(".data").mask("99/99/9999");
		        		
		        		$(".hora").mask("99:99");
		        		
		        		$(".telefone")
					        .mask("(99) 9999-99999")
					        .focusout(function (event) {  
					            var target, phone, element;  
					            target = (event.currentTarget) ? event.currentTarget : event.srcElement;  
					            phone = target.value.replace(/\D/g, '');
					            element = $(target);  
					            element.unmask();  
					            if(phone.length > 10) {  
					                element.mask("(99) 99999-9999");  
					            } else {  
					                element.mask("(99) 9999-99999");  
					            }  
					    });
		        	}
					
					function definirNovaLocalizacao() {
						
						console.log('passou maps 3');
						
						if ($('#latitudeCorridaCorrente').val() != null) {
							
							
							if ($('#latitudeCorridaCorrente').val() != '') {
								
								if (map != null) {
									latitude = $('#latitudeCorridaCorrente').val();
									longitude = $('#longitudeCorridaCorrente').val();
									center = { lat: parseFloat(latitude), lng: parseFloat(longitude) };
									
									google.maps.event.trigger(map, "resize");
								    map.setCenter(center);
								    marker.setPosition(center);
								}
								
							}
						}
					}
	    		
	    			$( document ).ready(function() {
			 		
						recarregarDatas();
						
						$('#modalNovaCorrida').on('shown.bs.modal', function () {
						
							mudarLocalidadeMapa('googleMapCorrida');
				          	recarregarDatas();
						
						});
						
					 	$('#modalLocalizacao').on('shown.bs.modal', function () {
					 		
						    google.maps.event.trigger(map, "resize");
						    map.setCenter(center);
						    
						 	/*$('#latitudeFinal').val($('#latitudeMotoristaExistente').val());
						 	$('#longitudeFinal').val($('#longitudeMotoristaExistente').val());
						 	$('#dataFinal').val($('#dataMotoristaExistente').val());*/
						});
					 	
				 	});
			 	
	    			function exibirPercursoCorrida(origem, destino) {
					
						//var pathCoordinates = Array();
						
						latitude = $('#latitudeCorridaCorrente').val();
						longitude = $('#longitudeCorridaCorrente').val();
						console.log('latitude: ' + latitude);
						console.log('longitude: ' + longitude);
						
						var latOrigem = $('#latitudeCorridaOrigem').val();
						var lngOrigem = $('#longitudeCorridaOrigem').val();
						
						var latDestino =  $('#latitudeCorridaDestino').val();
						var lngDestino = $('#longitudeCorridaDestino').val();
						
						var latitudes = $('#latitudesPercurso').val();
						var longitudes = $('#longitudesPercurso').val();
						
						console.log('latitudes' + latitudes);
						console.log('latitudes' + longitudes);
						
						var lat = latitudes.split(";");
						var lng = longitudes.split(";");
						
						/*for (i = 0; i == lat.length - 1; i++) {
							
							var latArray = lat[i];
							var lngArray = lng[i];
							pathCoordinates.push({
								lat : latArray,
								lng : lngArray
							});
						}*/
						
						center = { lat: parseFloat(latOrigem), lng: parseFloat(lngOrigem) };
				        map = new google.maps.Map(document.getElementById('googleMap2'), {
				          zoom: 11,
				          mapTypeId: google.maps.MapTypeId.ROADMAP,
				          center: { lat: parseFloat(latOrigem), lng: parseFloat(lngOrigem) }
				        });
				        
				        marker = new google.maps.Marker({
				          position: { lat: parseFloat(latitude), lng: parseFloat(longitude) },
				          map: map,
				          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/taxi.png",
				          title: "Último Registro do Veículo na Corrida"
				        });
				        
				        var markerOrigem  = new google.maps.Marker({
			        	  position: { lat: parseFloat(latOrigem), lng: parseFloat(lngOrigem) },
				          map: map,
				          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/inicio.png",
				          title: "Origem: " + origem
				        });
				        
				        var markerDestino  = new google.maps.Marker({
			        	  position: { lat: parseFloat(latDestino), lng: parseFloat(lngDestino) },
				          map: map,
				          icon: "https://app.segtaxi.com.br/public/template/assets/images/icons/fim.png",
				          title: "Destino : " + destino
				        });
				        
				      	//Initialize the Path Array
				        var path = Array();
				 
				        //Initialize the Direction Service
				        var service = new google.maps.DirectionsService();
				 
				        //Set the Path Stroke Color
				        var poly = new google.maps.Polyline({ map: map, strokeColor: '#4986E7', strokeOpacity: 0.6, strokeWeight: 5 });
				        
				        for (var i = 0; i < lat.length; i++) {
			                path.push({ lat : parseFloat(lat[i]), lng : parseFloat(lng[i]) });
			                poly.setPath(path);
			                service.route({
			                    origin: { lat : parseFloat(latOrigem), lng : parseFloat(lngOrigem) },
			                    destination: { lat : parseFloat(latDestino), lng : parseFloat(lngDestino) },
			                    travelMode: google.maps.DirectionsTravelMode.DRIVING
			                }, function (result, status) {
			                    if (status == google.maps.DirectionsStatus.OK) {
			                        for (var i = 0, len = result.routes[0].overview_path.length; i < len; i += 1) {
			                            path.push(result.routes[0].overview_path[i]);
			                        }
			                    }
			                });
			            }
				        
				        /*var poly = new google.maps.Polyline({
							path : pathCoordinates,
							geodesic : true,
							strokeColor : '#FF0000',
							strokeOpacity : 1,
							strokeWeight : 4,
							map : map
						});
				        
				        poly.setMap(map);*/
				        
				        console.log('vai abrir modal');
				        $('#modalLocalizacao').modal('show');
					    
					}
					
					function PrintElem(qrCode, dados) {
					
					    var mywindow = window.open('', 'PRINT', 'height=400,width=600');
					
					    mywindow.document.write('<html><head><title>Voucher</title>');
					    mywindow.document.write('<style>label { font-weight: bold; }</style></head><body>');
					    mywindow.document.write('<div style="width: 100%; height: 300px; border: 1px dotted black;"><div style="float: left; text-align: center; width: 40%; margin-top: 10px;">' + document.getElementById(qrCode).innerHTML + '</div>');
					    mywindow.document.write('<div style="float: left; width: 60%">' + document.getElementById(dados).innerHTML + '</div></div>');
					    mywindow.document.write('</body></html>');
					
					    mywindow.document.close(); // necessary for IE >= 10
					    mywindow.focus(); // necessary for IE >= 10*/
					
					    mywindow.print();
					    mywindow.close();
					
					    return true;
					}
					
					function carregarCampoDestino() {
						
						var trecho = document.getElementById('qtdTrechos').value;
						if (trecho && trecho > 1 && trecho < 5) {
							var idDest = 'destinoEnderecoCorridaNovaTrecho' + trecho;
							var autocompleteDestino = new google.maps.places.Autocomplete
									/** @type {HTMLInputElement} */ (document.getElementById(idDest));
								autocompleteDestino.setTypes(['establishment', 'geocode']);
								autocompleteDestino.addListener('place_changed', function() {
						            var place = autocompleteDestino.getPlace();
						            if (!place.geometry) {
						              window.alert("No details available for input: '" + place.name + "'");
						              return;
						            }
						            
						            $("#latitudeCorridaNovaDestino" + trecho).val(place.geometry.location.lat());
						            $("#longitudeCorridaNovaDestino" + trecho).val(place.geometry.location.lng());
						            
						            $("#destinoCorridaNova" + trecho).val(place.name);
						            
						            var address = '';
						            if (place.address_components) {
						              address = [
						                (place.address_components[0] && place.address_components[0].short_name || ''),
						                (place.address_components[1] && place.address_components[1].short_name || ''),
						                (place.address_components[2] && place.address_components[2].short_name || '')
						              ].join(' ');
						            }
						            
						            if (trecho == 2) {
										destinoPlaceId2 = place.place_id;
							            if (destinoPlaceId2 && destinoPlaceId) {
							            	var directionsService = new google.maps.DirectionsService;
								            directionsService.route({
									          origin: {'placeId': destinoPlaceId},
									          destination: {'placeId': destinoPlaceId2},
									          travelMode: 'DRIVING',
									          unitSystem: google.maps.UnitSystem.METRIC
									        }, function(response, status) {
									          if (status === 'OK') {
									            var distanciaMetros = response.routes[0].legs[0].distance.value;
												var distanciaKm = distanciaMetros / 1000;
												var minutos = response.routes[0].legs[0].duration.text;
												$("#distanciaCorridaNova2").val(distanciaKm);
												$("#minutosCorridaNova2").val(minutos.replace(" mins", "").replace(" min.", "").replace(" minutos", "").replace(" minutes", "").replace(" hours", "").replace(" hour", "").replace(" horas", "").replace(" hora", "").replace(" ", ""));
									          } else {
									            window.alert('Falha ao recuperar rota entre origem e destino ' + status);
									            $("#distanciaCorridaNova2").val("");
												$("#minutosCorridaNova2").val("");
									          }
									        });
							            }
									} else if (trecho == 3) {
										destinoPlaceId3 = place.place_id;
										if (destinoPlaceId3 && destinoPlaceId2) {
							            	var directionsService = new google.maps.DirectionsService;
								            directionsService.route({
									          origin: {'placeId': destinoPlaceId2},
									          destination: {'placeId': destinoPlaceId3},
									          travelMode: 'DRIVING',
									          unitSystem: google.maps.UnitSystem.METRIC
									        }, function(response, status) {
									          if (status === 'OK') {
									            var distanciaMetros = response.routes[0].legs[0].distance.value;
												var distanciaKm = distanciaMetros / 1000;
												var minutos = response.routes[0].legs[0].duration.text;
												$("#distanciaCorridaNova3").val(distanciaKm);
												$("#minutosCorridaNova3").val(minutos.replace(" mins", "").replace(" min.", "").replace(" minutos", "").replace(" minutes", "").replace(" hours", "").replace(" hour", "").replace(" horas", "").replace(" hora", "").replace(" ", ""));
									          } else {
									            window.alert('Falha ao recuperar rota entre origem e destino ' + status);
									            $("#distanciaCorridaNova3").val("");
												$("#minutosCorridaNova3").val("");
									          }
									        });
							            }
									} else if (trecho == 4) {
										destinoPlaceId4 = place.place_id;
										if (destinoPlaceId4 && destinoPlaceId3) {
							            	var directionsService = new google.maps.DirectionsService;
								            directionsService.route({
									          origin: {'placeId': destinoPlaceId3},
									          destination: {'placeId': destinoPlaceId4},
									          travelMode: 'DRIVING',
									          unitSystem: google.maps.UnitSystem.METRIC
									        }, function(response, status) {
									          if (status === 'OK') {
									            var distanciaMetros = response.routes[0].legs[0].distance.value;
												var distanciaKm = distanciaMetros / 1000;
												var minutos = response.routes[0].legs[0].duration.text;
												$("#distanciaCorridaNova4").val(distanciaKm);
												$("#minutosCorridaNova4").val(minutos.replace(" mins", "").replace(" min.", "").replace(" minutos", "").replace(" minutes", "").replace(" hours", "").replace(" hour", "").replace(" horas", "").replace(" hora", "").replace(" ", ""));
									          } else {
									            window.alert('Falha ao recuperar rota entre origem e destino ' + status);
									            $("#distanciaCorridaNova4").val("");
												$("#minutosCorridaNova4").val("");
									          }
									        });
							            }
									}
				          	});
						}
						
					}
					
					function mudarLocalidadeMapa(idMapa) {
					
						if ($('#nomeCidadeMapa').val() && $('#nomeCidadeMapa').val() != null || $('#nomeCidadeMapa').val() != '') {
						
							origemPlaceId = null;
							destinoPlaceId = null;
							
							var autocompleteOrigem = new google.maps.places.Autocomplete
								/** @type {HTMLInputElement} */ (document.getElementById('origemEnderecoCorridaNova'));
							//autocompleteOrigem.bindTo('bounds', map);
							autocompleteOrigem.setTypes(['establishment', 'geocode']);
							autocompleteOrigem.addListener('place_changed', function() {
					            var place = autocompleteOrigem.getPlace();
					            if (!place.geometry) {
					              // User entered the name of a Place that was not suggested and
					              // pressed the Enter key, or the Place Details request failed.
					              window.alert("No details available for input: '" + place.name + "'");
					              return;
					            }
					            
					            $("#latitudeCorridaNovaOrigem").val(place.geometry.location.lat());
					            $("#longitudeCorridaNovaOrigem").val(place.geometry.location.lng());
					            
					            $("#origemCorridaNova").val(place.name);
					            
					            origemPlaceId = place.place_id;
					            var address = '';
					            if (place.address_components) {
					              address = [
					                (place.address_components[0] && place.address_components[0].short_name || ''),
					                (place.address_components[1] && place.address_components[1].short_name || ''),
					                (place.address_components[2] && place.address_components[2].short_name || '')
					              ].join(' ');
					            }
					            
					            if (origemPlaceId && destinoPlaceId) {
					            	var directionsService = new google.maps.DirectionsService;
						            directionsService.route({
							          origin: {'placeId': origemPlaceId},
							          destination: {'placeId': destinoPlaceId},
							          travelMode: 'DRIVING',
							          unitSystem: google.maps.UnitSystem.METRIC
							        }, function(response, status) {
							          if (status === 'OK') {
							            var distanciaMetros = response.routes[0].legs[0].distance.value;
										var distanciaKm = distanciaMetros / 1000;
										var minutos = response.routes[0].legs[0].duration.text;
										$("#distanciaCorridaNova").val(distanciaKm);
										$("#minutosCorridaNova").val(minutos.replace(" mins", "").replace(" min.", "").replace(" minutos", "").replace(" minutes", "").replace(" hours", "").replace(" hour", "").replace(" horas", "").replace(" hora", "").replace(" ", ""));
							          } else {
							            window.alert('Falha ao recuperar rota entre origem e destino ' + status);
							            $("#distanciaCorridaNova").val("");
										$("#minutosCorridaNova").val("");
							          }
							        });
					            }
				          	});
				          	
				          	console.log("meio certinho!!!");
							
							var autocompleteDestino = new google.maps.places.Autocomplete
								/** @type {HTMLInputElement} */ (document.getElementById('destinoEnderecoCorridaNova'));
							//autocompleteDestino.bindTo('bounds', map);
							autocompleteDestino.setTypes(['establishment', 'geocode']);
							autocompleteDestino.addListener('place_changed', function() {
					            var place = autocompleteDestino.getPlace();
					            if (!place.geometry) {
					              window.alert("No details available for input: '" + place.name + "'");
					              return;
					            }
					            
					            $("#latitudeCorridaNovaDestino").val(place.geometry.location.lat());
					            $("#longitudeCorridaNovaDestino").val(place.geometry.location.lng());
					            
					            $("#destinoCorridaNova").val(place.name);
					            
					            destinoPlaceId = place.place_id;
					            var address = '';
					            if (place.address_components) {
					              address = [
					                (place.address_components[0] && place.address_components[0].short_name || ''),
					                (place.address_components[1] && place.address_components[1].short_name || ''),
					                (place.address_components[2] && place.address_components[2].short_name || '')
					              ].join(' ');
					            }
					            
					            if (origemPlaceId && destinoPlaceId) {
					            	var directionsService = new google.maps.DirectionsService;
						            directionsService.route({
							          origin: {'placeId': origemPlaceId},
							          destination: {'placeId': destinoPlaceId},
							          travelMode: 'DRIVING',
							          unitSystem: google.maps.UnitSystem.METRIC
							        }, function(response, status) {
							          if (status === 'OK') {
							            var distanciaMetros = response.routes[0].legs[0].distance.value;
										var distanciaKm = distanciaMetros / 1000;
										var minutos = response.routes[0].legs[0].duration.text;
										$("#distanciaCorridaNova").val(distanciaKm);
										$("#minutosCorridaNova").val(minutos.replace(" mins", "").replace(" min.", "").replace(" minutos", "").replace(" minutes", "").replace(" hours", "").replace(" hour", "").replace(" horas", "").replace(" hora", "").replace(" ", ""));
							          } else {
							            window.alert('Falha ao recuperar rota entre origem e destino ' + status);
							            $("#distanciaCorridaNova").val("");
										$("#minutosCorridaNova").val("");
							          }
							        });
					            }
				          	});
								
						}
						recarregarDatas();
						return map;
					}
	    		
	    		//]]>
	    	</h:outputScript>
		</ui:define>
		
	</ui:composition>
	
</f:view>